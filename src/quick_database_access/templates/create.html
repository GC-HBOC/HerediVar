{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1 class="bst">{% block title %} Create a new variant {% endblock %}</h1>

    <ul class="nav nav-tabs bst" id="tabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="vcf-tab" data-bs-toggle="tab" data-bs-target="#vcf" type="button" role="tab" aria-controls="home" aria-selected="true">VCF import</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="hgvs-tab" data-bs-toggle="tab" data-bs-target="#hgvs" type="button" role="tab" aria-controls="hgvs" aria-selected="false">HGVS import</button>
        </li>
      </ul>
      <div class="tab-content" id="TabContent">
        <div class="tab-pane fade show active sst" id="vcf" role="tabpanel" aria-labelledby="vcf-tab">
            <form action="/create?type=vcf" method="post" class="needs-validation" novalidate>
                <div class="form-group">
                     <label for="Chromosome" class="form-label">Chromosome</label>
                     <select class="form-select" name="chr" id="Chromosome" required>
                         {% for chr in chrs %}
                            <option value="{{chr}}" {% if (chr == request.form['chr']) %} selected="selected" {% endif %}> {{chr}} </option>
                         {% endfor %}
                    </select>
                    <div class="invalid-feedback">
                        Please provide a chromosome!
                    </div>
                </div>
            
                <div class="form-group sst">
                    <label for="Position" class="form-label">Chromosomal position</label>
                    <input type="number" name="pos" id="Position"
                           placeholder="pos" class="form-control"
                           value="{{ request.form['pos'] }}" required>
                    </input>
                    <div class="invalid-feedback">
                        Please provide a chromosomal position!
                    </div>
                </div>
            
                <div class="form-group sst">
                    <label for="Reference" class="form-label">Reference sequence</label>
                    <input type="text" name="ref"
                           placeholder="ref" class="form-control"
                           value="{{ request.form['ref'] }}" id="Reference" required>
                    </input>
                    <div class="invalid-feedback">
                        Please provide a reference sequence!
                    </div>
                </div>
            
                <div class="form-group sst" >
                    <label for="Alternative" class="form-label">Alternative sequence</label>
                    <input type="text" name="alt"
                           placeholder="alt" class="form-control"
                           value="{{ request.form['alt'] }}" id="Alternative" required>
                    </input>
                    <div class="invalid-feedback">
                        Please provide an alternative sequence!
                    </div>
                </div>
            
            
                <div class="form-group sst">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>
        <div class="tab-pane fade" id="hgvs" role="tabpanel" aria-labelledby="hgvs-tab">
            <form action="/create?type=hgvsc" method="post" class="needs-validation" novalidate>
                <div class="form-group sst">
                    <label for="hgvsc" class="form-label">HGVS c-dot</label>
                    <input type="text" name="hgvsc"
                           placeholder="hgvsc" class="form-control"
                           value="{{ request.form['hgvsc'] }}" id="hgvsc" required>
                    </input>
                    <div class="invalid-feedback">
                        Please provide a valid HGVS c-dot string of the form: transcript:c.positionamino-acid-change
                    </div>
                </div>

                <div class="form-group sst">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>
      </div>
      
</div>

<script src="../static/js/formValidator.js"></script>

{% endblock %}