{% extends 'base.html' %}


{% block content %}

<div class="container">

  
<h1 class="bst"> {% block title %} Import variants from HerediCare {% endblock %} </h1>


<div class="bst" style="display:flex; align-items:center;">
    <form id="import-variants-form" name="import-variants-form" method="post" action="#">
        <div class="form-group">
            <span id="tooltip-import-variants-button" class="d-inline-block" tabindex="0" data-bs-toggle="tooltip" title="testtst">
                <button id="import-variants-button" type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#import-variants-modal">IMPORT & UPDATE</button>
            </span>
            <meta id="annotation_status" data-annotation-status="{{ most_recent_import_request[3] }}">
        </div>
    </form>
    {% if most_recent_import_request is not none %}
        {% if most_recent_import_request[3] == 'pending' %}
            <span class="badge rounded-pill bg-secondary" style="margin-left:10px" data-bs-toggle="tooltip" title="annotation requested at {{ most_recent_import_request[2] }}">import requested</span>
        {% endif %}
        {% if most_recent_import_request[3] == 'finished' %}
            <span class="badge rounded-pill bg-success" style="margin-left:10px" data-bs-toggle="tooltip" title="most recent annotation finished at {{ most_recent_import_request[4] }}">last annotation: {{ most_recent_import_request[4] }}</span>
        {% endif %}
    {% endif %}
</div>


<!-- modal -->
<div class="modal fade" id="import-variants-modal" tabindex="-1" aria-labelledby="import-variants-modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="import-variants-modal-label">Confirm Import & Update</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure that you want to import/update all variants & corresponding meta-information from HerediCare?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button id="import-variants-submit" type="submit" class="btn btn-primary">Yes</button>
            </div>
        </div>
    </div>
</div>


</div>


{% endblock %}

{% block special_scripts %}
    <script src="../static/js/import_variants.js"></script>
{% endblock %}